---
title: "Mapping"
author: "Lumumba Wandera Victor"
date: "`r Sys.Date()`"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Global Map using Malaria Data from KNBS
```{r}
data <- read.csv("data20244.csv")
#head(data,20)
```

### Mapping of Malaria Occurrences
```{r}
library(leaflet)

# Create an interactive map with leaflet
leaflet(data) %>%
  addTiles() %>%
  addCircleMarkers(
    ~Longitude, ~Latitude,
    radius = ~Final_Malaria_Test_Results*3,
    color = "red",
    stroke = FALSE,
    fillOpacity = 0.5,
    label = ~paste0(County, ": ", Final_Malaria_Test_Results)) %>%
  addLegend("bottomright", 
            colors = "red", 
            labels = "Malaria Results",
            title = "Malaria Positive Test Results")
```

This code creates an interactive map using the leaflet package in R, which is a popular tool for creating web maps. Hereâ€™s a breakdown of each part of the code:

## leaflet(data):

Initializes a new Leaflet map object, using the dataset data as the source of the geographical information. This dataset should contain columns for Longitude, Latitude, Final_Malaria_Test_Results, and County.

### %>% (Pipe Operator):
 The pipe operator (%>%) is used to pass the result of one function as the first argument to the next function. This makes the code more readable and easier to follow.

### addTiles():
Adds the default map tiles (i.e., the base map layer) to the Leaflet map. This provides the geographical context, such as roads, terrain, and labels, on which the markers will be placed.

## addCircleMarkers(~Longitude, ~Latitude, ...):
Adds circle markers to the map at the specified Longitude and Latitude coordinates.

### ~Longitude, ~Latitude: 
Indicates that the Longitude and Latitude columns from the data dataset should be used to determine the positions of the markers on the map.

## radius = ~Final_Malaria_Test_Results * 3:
Sets the radius of the circle markers. The radius is proportional to the Final_Malaria_Test_Results values multiplied by 3. This means that the size of each marker will vary depending on the malaria test results, making larger markers for higher values.

### color = "red":
Sets the color of the circle markers to red, indicating the visual representation of malaria test results.

### stroke = FALSE:
Disables the outline (stroke) around the circle markers, resulting in a cleaner appearance with only the filled circles visible.

### fillOpacity = 0.5:
Sets the opacity of the circle markers' fill color to 50%, making them semi-transparent. This allows overlapping markers to be seen through one another.

## label = ~paste0(County, ": ", Final_Malaria_Test_Results):
Creates a label for each marker that will be displayed when the user hovers over it. The label is generated by combining the County name and the corresponding Final_Malaria_Test_Results value using the paste0 function.

### addLegend("bottomright", colors = "red", labels = "Malaria Results", title = "Malaria Positive Test Results"):
Adds a legend to the map in the bottom right corner.

### colors = "red": Specifies the color associated with the label in the legend.
labels = "Malaria Results": Sets the text that will appear in the legend, describing what the color represents.

##title = "Malaria Positive Test Results": 
Sets the title of the legend, providing context for what the markers on the map represent.

